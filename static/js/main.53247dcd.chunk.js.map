{"version":3,"sources":["utils/helpers.js","components/field.js","components/App.js","serviceWorker.js","index.js"],"names":["rotate45","matrix","reversed","i","row","j","push","match","arr","a","b","x","y","Field","props","gameOver","isWin","bestFromStorage","JSON","parse","localStorage","getItem","cells","latest","latestCoordinates","score","allCells","map","item","react_default","createElement","className","key","Fragment","initNewField","App","state","size","checkStep","moved","_this","setState","restart","makeRandomCell","this","cells1","document","addEventListener","handleKeyDown","bind","finishScore","newData","slice","indexOf","length","shift","stringify","addToStorage","isGameOver","setBestScore","data","rt","availableCells","randomNumber","Math","floor","random","avCells","areMatches","event","keyCode","newState","moveUp","moveRight","moveDown","moveLeft","result","ifGamesOver","arr2","rotated","field","onClick","Component","Boolean","window","location","hostname","ReactDOM","render","components_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.53247dcd.chunk.js","sourcesContent":["export const addToStorage = (item, key) => {\n  const data = localStorage[key] ? JSON.parse(localStorage[key]) : [];\n  let newData = data.slice();\n  if (item) {\n    if (newData.indexOf(item) === -1) {\n      newData.push(item);\n    }\n    if (newData.length === 100) {\n      newData.shift();\n    }\n    localStorage[key] = JSON.stringify(newData);\n  }\n};\nexport const reverseY = matrix => {\n  let reversed = [];\n  for (let i = 0; i < 4; i++) {\n    let row = [];\n    for (let j = 0; j < 4; j++) {\n      row.push(matrix[3 - i][j]);\n    }\n    reversed.push(row);\n  }\n  return reversed;\n};\nexport const rotate45 = matrix => {\n  let reversed = [];\n  for (let i = 0; i < 4; i++) {\n    let row = [];\n    for (let j = 0; j < 4; j++) {\n      row.push(matrix[3 - j][i]);\n    }\n    reversed.push(row);\n  }\n  return reversed;\n};\nexport const match = (arr, a, b, x, y) => {\n  return arr[a] && arr[a][b] && arr[a][b] === arr[x][y];\n};\n","import React from \"react\";\n\nconst Field = props => {\n  let gameOver = props.props.gameOver;\n  let isWin = false;\n  let bestFromStorage = JSON.parse(localStorage.getItem(\"score\"));\n  const initNewField = () => {\n    let cells = props.props.cells;\n    let latest = props.props.latestCoordinates;\n    let score = props.props.score;\n    let allCells = cells.map((item, x) => {\n      return item.map((i, y) => {\n        if (i === 2048) {\n          isWin = true;\n        }\n        return (\n          <div className=\"cell-wrapper\" key={'wrap-'+x+y+i}>\n            <div\n              className={\n                \"cell \" +\n                (latest && x === latest.i && y === latest.j ? \" new\" : \"\") +\n                \" cell_\" +\n                i\n              }\n            >\n              {i ? i : \"\"}{\" \"}\n            </div>\n          </div>\n        );\n      });\n    });\n    return (\n      <>\n        <div>\n          <h1 className=\"welcome\">Welcome on board!</h1>\n          <h3 className=\"score\">Your score: {score ? score : 0}</h3>\n          <h3 className=\"best-score score\">\n            Best score: {bestFromStorage ? bestFromStorage : 0}{\" \"}\n          </h3>\n        </div>\n        <div className=\"field\">\n          {allCells}{\" \"}\n          {isWin ? (\n            <div className=\"loose\">\n              <h1>You win!</h1>\n            </div>\n          ) : (\n            \"\"\n          )}{\" \"}\n          {gameOver ? (\n            <div className=\"loose\">\n              <h1>You loose</h1>\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n      </>\n    );\n  };\n  return initNewField();\n};\nexport default Field;\n","import React, { Component } from \"react\";\nimport { addToStorage, rotate45, match } from \"../utils/helpers.js\";\nimport Field from \"./field.js\";\n\nclass App extends Component {\n  state = {\n    cells: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],\n    latestCoordinates: {},\n    gameOver: false,\n    score: 0\n  };\n  size = 4;\n\n  componentDidMount() {\n    let { cells } = this.state;\n    let cells1 = this.makeRandomCell(cells);\n    this.setState(this.makeRandomCell(cells1));\n    document.addEventListener(\"keydown\", this.handleKeyDown.bind(this));\n  }\n  setBestScore() {\n    let finishScore = this.state.score;\n    let bestFromStorage = JSON.parse(localStorage.getItem(\"score\"));\n    if (finishScore > bestFromStorage) {\n      addToStorage(finishScore, \"score\");\n    }\n  }\n  ifGamesOver(arr) {\n    if (this.isGameOver(arr)) {\n      this.setBestScore();\n      this.setState({ gameOver: true });\n    }\n  }\n  makeRandomCell(data) {\n    let arr = data.slice();\n    let rt = this.availableCells(arr);\n    if (this.availableCells(arr).length) {\n      let randomNumber = Math.floor(Math.random() * rt.length);\n      arr[rt[randomNumber].i][rt[randomNumber].j] = Math.random() < 0.9 ? 2 : 4;\n      this.setState({\n        latestCoordinates: { i: rt[randomNumber].i, j: rt[randomNumber].j }\n      });\n    }\n    return arr;\n  }\n  availableCells(data) {\n    let avCells = [];\n    let cells = data;\n\n    if (cells.length) {\n      for (let i = 0; i < this.size; i++) {\n        for (let j = 0; j < this.size; j++) {\n          if (cells[i][j] === 0) {\n            avCells.push({ i, j });\n          }\n        }\n      }\n    }\n    return avCells;\n  }\n  areMatches(arr) {\n    let cells = arr.slice();\n    for (let i = 0; i < this.size; i++) {\n      for (let j = 0; j < this.size; j++) {\n        return (\n          match(cells, i - 1, j, i, j) ||\n          match(cells, i, j - 1, i, j) ||\n          match(cells, i, j + 1, i, j) ||\n          match(cells, i + 1, j, i, j)\n        );\n      }\n    }\n  }\n  isGameOver(arr) {\n    return (\n      !this.areMatches(this.state.cells) && !this.availableCells(arr).length\n    );\n  }\n  handleKeyDown(event) {\n    const up = 38;\n    const right = 39;\n    const down = 40;\n    const left = 37;\n    let { cells } = this.state;\n    if (event.keyCode === up) {\n      let newState = this.moveUp(cells);\n      this.setState(newState);\n    } else if (event.keyCode === right) {\n      let newState = this.moveRight(cells);\n      this.setState({ cells: newState });\n    } else if (event.keyCode === down) {\n      let newState = this.moveDown(cells);\n      this.setState({ cells: newState });\n    } else if (event.keyCode === left) {\n      let newState = this.moveLeft(cells);\n      this.setState({ cells: newState });\n    }\n  }\n  checkStep = (arr, i, j, moved) => {\n    if (arr[i][j] !== 0 && arr[i - 1][j] === 0) {\n      arr[i - 1][j] = arr[i][j];\n      arr[i][j] = 0;\n      moved = true;\n      if (i >= 2) {\n        this.checkStep(arr, i - 1, j, moved);\n        moved = true;\n        if (i === 3) {\n          this.checkStep(arr, i - 2, j, moved);\n          moved = true;\n        }\n      }\n    } else if (arr[i][j] === arr[i - 1][j]) {\n      arr[i - 1][j] = arr[i][j] + arr[i - 1][j];\n      let score = this.state.score + arr[i][j];\n      this.setState({ score });\n      arr[i][j] = 0;\n      moved = true;\n    }\n\n    return { arr, moved };\n  };\n  moveUp(data) {\n    let arr = data.slice();\n    let result,\n      moved = false;\n    for (let j = 0; j < this.size; j++) {\n      for (let i = 1; i < this.size; i++) {\n        result = this.checkStep(arr, i, j, moved);\n      }\n    }\n    arr = result.arr;\n    moved = result.moved;\n    this.ifGamesOver(arr);\n    return moved ? this.makeRandomCell(arr) : arr;\n  }\n  moveDown(data) {\n    let arr = data.slice();\n    let arr2 = rotate45(rotate45(arr));\n    let moved = false;\n    let result;\n    for (let j = 0; j < this.size; j++) {\n      for (let i = 1; i < this.size; i++) {\n        result = this.checkStep(arr2, i, j, moved);\n      }\n    }\n    arr = rotate45(rotate45(result.arr));\n    moved = result.moved;\n    this.ifGamesOver(arr);\n    return moved ? this.makeRandomCell(arr) : arr;\n  }\n  moveLeft(data) {\n    let arr = data.slice();\n\n    let rotated = rotate45(arr);\n    let moved = false;\n    let result;\n    for (let j = 0; j < this.size; j++) {\n      for (let i = 1; i < this.size; i++) {\n        result = this.checkStep(rotated, i, j, moved);\n      }\n    }\n    arr = rotate45(rotate45(rotate45(result.arr)));\n    moved = result.moved;\n    this.ifGamesOver(arr);\n    return moved ? this.makeRandomCell(arr) : arr;\n  }\n  moveRight(data) {\n    let arr = data.slice();\n    let rotated = rotate45(rotate45(rotate45(arr)));\n    let moved = false;\n    let result;\n    for (let j = 0; j < this.size; j++) {\n      for (let i = 1; i < this.size; i++) {\n        result = this.checkStep(rotated, i, j, moved);\n      }\n    }\n    arr = rotate45(result.arr);\n    moved = result.moved;\n    this.ifGamesOver(arr);\n    return moved ? this.makeRandomCell(arr) : arr;\n  }\n\n  restart = () => {\n    let cells = [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n    let allCells = this.makeRandomCell(this.makeRandomCell(cells));\n\n    this.setState({\n      cells: allCells,\n      latestCoordinates: {},\n      gameOver: false,\n      score: 0\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Field props={this.state} />\n        <div className=\"button-wrapper\">\n          <button onClick={this.restart}>New Game</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}